/* empty css                  */import{h as P,P as q}from"./el-icon-37d8cfb4.js";/* empty css                     */import{I as _,d as U,M as j,i as J,s as Q,c as Y}from"./notifications-e9df1fe4.js";import{_ as z}from"./plugin-vue_export-helper-b2bddca3.js";import{d as W,r as p,L as H,b as R,m as r,h as g,J as T,w as l,i as t,F as X,Q as Z,k as v,R as I,j as ee,n as M,c as oe,E as te,g as le,e as ue}from"./index-1fdc2001.js";/* empty css                  */const a="640px",ae=[{type:_.input,field:"name",label:"\u7F51\u7AD9\u540D\u79F0: ",labelWidth:a,required:!0,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u540D\u79F0"}},{type:_.input,field:"domain",label:"\u7F51\u7AD9\u57DF\u540D: ",labelWidth:a,required:!0,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9\u57DF\u540D"}},{type:_.input,field:"vercel_token",label:"Token: ",labelWidth:a,required:!0,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165Vercel Token"}},{type:_.input,field:"logo",label:"\u7F51\u7AD9logo: ",required:!1,labelWidth:a,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9logo\u5730\u5740"}},{type:_.input,field:"favicon",label:"\u7F51\u7AD9favicon: ",required:!1,labelWidth:a,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9favicon"}},{field:"seo_title",label:"seo\u6807\u9898: ",labelWidth:a,rules:[],slotName:"seoTitle",otherOptions:{placeholder:"\u8BF7\u8F93\u5165 seo \u6807\u9898"}},{field:"seo_keywords",label:"seo \u5173\u952E\u8BCD: ",labelWidth:a,rules:[],slotName:"seoKeywords",otherOptions:{placeholder:"\u8BF7\u8F93\u5165 seo \u5173\u952E\u8BCD"}},{field:"seo_description",label:"seo \u63CF\u8FF0: ",labelWidth:a,rules:[],slotName:"seoDescription",otherOptions:{placeholder:"\u8BF7\u8F93\u5165 seo \u63CF\u8FF0"}},{field:"header_right_config",label:"\u5934\u90E8\u914D\u7F6E: ",labelWidth:a,rules:[],slotName:"headerRightConfig"},{field:"static_config_baidu",label:"\u767E\u5EA6\u7EDF\u8BA1\u6807\u8BC6: ",labelWidth:a,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165\u767E\u5EA6\u7EDF\u8BA1\u6807\u8BC6"},slotName:"staticConfigBaidu"},{field:"static_config_google",label:"\u8C37\u6B4C\u4EE3\u7801\u6807\u8BC6: ",labelWidth:a,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165\u8C37\u6B4C\u4EE3\u7801\u6807\u8BC6"},slotName:"staticConfigGoogle"},{field:"footer_config.bottom_statement ",label:"\u5E95\u90E8\u58F0\u660E: ",labelWidth:a,rules:[],otherOptions:{placeholder:"\u8BF7\u8F93\u5165\u5E95\u90E8\u58F0\u660E"},slotName:"footerConfigBottomStatement"}],ne=async()=>{const{data:F}=await P.post(q+"/site_config/get",{});return F},se=async F=>{const d={username:"",data:F},{data:y}=await P.post(q+"/site_config/update",d);return y};const ie={class:"content-box"},re={key:0,style:{display:"flex","flex-direction":"column"}},de={style:{display:"flex","flex-direction":"row","margin-bottom":"10px"}},pe={key:1},fe={class:"form-button"},me=W({name:"dynamicForm"}),ce=W({...me,async setup(F){var B,E,D,x,k;let d,y;const u=p({username:"",token:"",domain:"",favicon:"",footer_config:{bottom_statement:""},header_config:[],logo:"",name:"",pendant:[],seo_config:{index_page_config:{title:"",keywords:"",description:""}},static_config:{google:"",baidu:""}}),$=([d,y]=H(()=>ne()),d=await d,y(),d);u.value=$;const s=p((E=(B=u.value.seo_config)==null?void 0:B.index_page_config)!=null?E:{}),f=p((D=u.value.static_config)!=null?D:{}),b=p((x=u.value.footer_config)!=null?x:{}),i=p((k=u.value.header_config)!=null?k:[]),S=A=>{i.value.length!==1&&i.value.splice(A,1)},V=()=>{if(i.value&&i.value.length>=3){J("\u6700\u591A\u6DFB\u52A03\u4E2A");return}i.value.push({name:"",url:""})},C=p(),G=async()=>{await C.value.validFun()&&(u.value,u.value.seo_config={index_page_config:s.value},u.value.footer_config=b.value,u.value.static_config=f.value,await se(u.value),Q("\u64CD\u4F5C\u6210\u529F"))},K=()=>{C.value,C.value.resetFields()};return(A,e)=>{const n=oe,w=ue,L=R("delete"),h=te,m=le,N=R("Plus");return r(),g("div",ie,[u.value?(r(),T(v(j),{key:0,modelValue:u.value,"onUpdate:modelValue":e[8]||(e[8]=o=>u.value=o),formItems:v(ae),inline:!1,showRefresh:!1,showSearch:!1,ref_key:"formRef",ref:C,labelWidth:"120px",labelPosition:"right"},{seoTitle:l(()=>[t(n,{type:"input",modelValue:s.value.title,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.title=o)},null,8,["modelValue"])]),seoKeywords:l(()=>[t(n,{type:"input",modelValue:s.value.keywords,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.keywords=o)},null,8,["modelValue"])]),seoDescription:l(()=>[t(n,{type:"input",modelValue:s.value.description,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.description=o)},null,8,["modelValue"])]),headerRightConfig:l(()=>[i.value.length?(r(),g("div",re,[(r(!0),g(X,null,Z(i.value,(o,O)=>(r(),g("div",de,[t(w,{label:"\u6807\u9898",labelWidth:"50px"},{default:l(()=>[t(n,{type:"input",modelValue:o.name,"onUpdate:modelValue":c=>o.name=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{label:"\u5730\u5740",labelWidth:"50px"},{default:l(()=>[t(n,{type:"input",modelValue:o.url,"onUpdate:modelValue":c=>o.url=c},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{style:{"margin-left":"5px"},color:v(Y),circle:""},{default:l(()=>[t(h,{color:"#fff",onClick:c=>S(O)},{default:l(()=>[t(L)]),_:2},1032,["onClick"])]),_:2},1032,["color"]),O==0?(r(),T(m,{key:0,onClick:e[3]||(e[3]=c=>V()),style:{"margin-left":"5px"},color:v(U),circle:""},{default:l(()=>[t(h,{color:"#fff"},{default:l(()=>[t(N)]),_:1})]),_:1},8,["color"])):I("",!0)]))),256))])):(r(),g("div",pe,[t(m,{onClick:e[4]||(e[4]=o=>V()),style:{"margin-left":"5px"},color:v(U),circle:""},{default:l(()=>[t(h,{color:"#fff"},{default:l(()=>[t(N)]),_:1})]),_:1},8,["color"])]))]),staticConfigBaidu:l(()=>[t(n,{type:"input",modelValue:f.value.baidu,"onUpdate:modelValue":e[5]||(e[5]=o=>f.value.baidu=o)},null,8,["modelValue"])]),staticConfigGoogle:l(()=>[t(n,{type:"input",modelValue:f.value.google,"onUpdate:modelValue":e[6]||(e[6]=o=>f.value.google=o)},null,8,["modelValue"])]),footerConfigBottomStatement:l(()=>[t(n,{type:"textarea",modelValue:b.value.bottom_statement,"onUpdate:modelValue":e[7]||(e[7]=o=>b.value.bottom_statement=o)},null,8,["modelValue"])]),_:1},8,["modelValue","formItems"])):I("",!0),ee("div",fe,[t(m,{type:"primary",onClick:e[9]||(e[9]=o=>G())},{default:l(()=>[M("\u63D0\u4EA4")]),_:1}),t(m,{onClick:e[10]||(e[10]=o=>K())},{default:l(()=>[M("\u91CD\u7F6E")]),_:1})])])}}});var he=z(ce,[["__scopeId","data-v-e8128b60"]]);export{he as default};
